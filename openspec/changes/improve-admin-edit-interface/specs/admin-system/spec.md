## ADDED Requirements

### Requirement: 编辑页面保存操作
管理员编辑页面 SHALL 提供明确的保存操作选项。

#### Scenario: 保存草稿操作
- **WHEN** 管理员点击"保存草稿"按钮
- **THEN** 项目状态应设置为"draft"
- **AND** 所有表单数据应保存到localStorage
- **AND** 用户应收到保存成功的确认提示
- **AND** 项目应在列表中显示为草稿状态

#### Scenario: 保存操作
- **WHEN** 管理员点击"保存"按钮
- **THEN** 项目状态应设置为"saved"
- **AND** 所有表单数据应保存到localStorage
- **AND** 用户应收到保存成功的确认提示
- **AND** 项目应在列表中显示为已保存状态

#### Scenario: 提交发布操作
- **WHEN** 管理员点击"提交发布"按钮
- **THEN** 项目状态应设置为"published"
- **AND** 所有表单数据应保存到localStorage
- **AND** 项目应在前台作品集中显示
- **AND** 用户应收到发布成功的确认提示

### Requirement: 自动保存机制
编辑页面 SHALL 实现自动保存功能防止数据丢失。

#### Scenario: 自动保存触发
- **WHEN** 用户在编辑器中输入内容并停止输入超过5秒
- **THEN** 系统应自动保存当前编辑状态
- **AND** 自动保存状态应显示给用户
- **AND** 最后保存时间应更新显示
- **AND** 自动保存内容应存储在临时位置

#### Scenario: 页面刷新数据恢复
- **WHEN** 用户刷新编辑页面或意外关闭页面
- **THEN** 系统应检测到未保存的自动保存内容
- **AND** 用户应收到恢复未保存内容的提示
- **AND** 用户可以选择恢复自动保存的内容
- **AND** 恢复的内容应填充到相应表单字段

### Requirement: 编辑状态管理
系统 SHALL 提供清晰的编辑状态指示。

#### Scenario: 编辑状态显示
- **WHEN** 用户在编辑页面
- **THEN** 当前项目状态应清晰显示（草稿/已保存/已发布）
- **AND** 最后保存时间应显示
- **AND** 未保存的更改应有视觉指示
- **AND** 自动保存状态应显示

#### Scenario: 数据丢失防护
- **WHEN** 用户尝试离开包含未保存更改的页面
- **THEN** 系统应显示确认对话框
- **AND** 对话框应提示未保存的更改
- **AND** 用户可以选择保存更改或继续离开
- **AND** 系统应处理用户的相应操作

## MODIFIED Requirements

### Requirement: 富文本编辑器
富文本编辑器 SHALL专注于编辑体验，移除重复的预览功能。

#### Scenario: 纯编辑模式
- **WHEN** 用户使用富文本编辑器
- **THEN** 编辑器应只显示编辑界面
- **AND** 独立的预览功能应被移除
- **AND** 编辑器应保持Markdown语法支持
- **AND** 帮助文档和语法提示应保留

#### Scenario: 编辑器工具栏
- **WHEN** 富文本编辑器加载
- **THEN** 工具栏应专注于编辑功能
- **AND** 预览相关的按钮应移除
- **AND** Markdown格式化按钮应保留
- **AND** 编辑器应支持键盘快捷键

### Requirement: 项目编辑界面
项目编辑界面 SHALL 优化布局和操作流程。

#### Scenario: 编辑表单布局
- **WHEN** 用户访问项目编辑页面
- **THEN** 表单应采用标准React Admin布局
- **AND** 所有输入字段应保持现有顺序
- **AND** 底部应添加保存操作按钮组
- **AND** 响应式设计应适用于移动设备

#### Scenario: 操作按钮组
- **WHEN** 编辑表单加载完成
- **THEN** 底部应显示保存操作按钮组
- **AND** 按钮顺序应为：保存草稿、保存、提交发布
- **AND** 按钮应有明确的图标和标签
- **AND** 按钮应根据项目状态启用/禁用

### Requirement: 数据验证
系统 SHALL 扩展数据验证以支持新的保存状态。

#### Scenario: 状态验证
- **WHEN** 用户提交表单
- **THEN** 系统应验证必填字段
- **AND** 状态字段应自动设置为适当值
- **AND** 验证错误应显示给用户
- **AND** 提交应被阻止直到所有错误解决

#### Scenario: 内容完整性检查
- **WHEN** 用户执行保存操作
- **THEN** 系统应检查数据完整性
- **AND** 缺失的必填字段应被标记
- **AND** 用户应收到修复建议
- **AND** 保存操作应验证数据有效性